#| label: packages
#| cache: false
pacman::p_load(here, quarto, knitr, tidyverse, readxl, scico, sf, rnaturalearth, rnaturalearthdata, maps, terra, tidyterra, raster)
#| label: map-setup
# Theme
theme_set(theme_bw() +
theme(
text = element_text(family = "Helvetica", size = 14),
panel.background = element_rect(fill = "white"),
panel.border = element_blank()))
#| label: data
#| output: false
# State borders from rnaturalearth
states <- st_as_sf(map("state", plot = FALSE, fill = TRUE))
nys <- filter(states, ID == "new york")
# Shaded relief map from https://www.naturalearthdata.com/downloads/10m-raster-data/10m-cross-blend-hypso/
hypso <- rast(here("posts/data/HYP_HR_SR_W_DR/HYP_HR_SR_W_DR.tif"))
# Shaded relief for NYS
hypso.crop <- terra::crop(hypso, extent(nys))
hypso.mask <- terra::mask(hypso.crop, nys)
# CRS for NYS data obtained from metadata at https://data.gis.ny.gov/documents/573c1f2fe8ae43ab980b654caad03500/about
faults <- st_read(here("posts/data/nys_faults/NYS_Faults.shp")) |>
st_set_crs(st_crs("EPSG:26718"))
#| label: day02
#| fig-alt: "Map of faults in New York State with land cover shading"
#| fig-width: 10
#| cache: false
ggplot() +
geom_spatraster_rgb(data = hypso.mask) +
geom_sf(data = faults, color = "#FFFFFF", alpha = 0.7) +
coord_sf(crs = "EPSG:26718")
day02 <- ggplot() +
geom_spatraster_rgb(data = hypso.mask) +
geom_sf(data = faults, color = "#FFFFFF", alpha = 0.7) +
coord_sf(crs = "EPSG:26718")
plot(day02)
ggplot() +
geom_spatraster_rgb(data = hypso.mask) +
geom_sf(data = faults, color = "#FFFFFF", alpha = 0.7) +
coord_sf(crs = "EPSG:26718")
ggplot() +
geom_spatraster_rgb(data = hypso.mask) +
geom_sf(data = faults, color = "white", alpha = 0.6) +
coord_sf(crs = "EPSG:26718")
#| label: day02
#| fig-alt: "Map of faults in New York State with land cover shading"
#| fig-width: 10
#| cache: false
ggplot() +
geom_spatraster_rgb(data = hypso.mask) +
geom_sf(data = faults, color = "white", alpha = 0.6) +
coord_sf(crs = "EPSG:26718")
